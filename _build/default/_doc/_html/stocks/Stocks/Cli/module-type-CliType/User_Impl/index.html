<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>User_Impl (stocks.Stocks.Cli.CliType.User_Impl)</title><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">stocks</a> &#x00BB; <a href="../../../index.html">Stocks</a> &#x00BB; <a href="../../index.html">Cli</a> &#x00BB; <a href="../index.html">CliType</a> &#x00BB; User_Impl</nav><header class="odoc-preamble"><h1>Module <code><span>CliType.User_Impl</span></code></h1><p>Module type representing the User module, providing functions for user interactions with a financial system.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-action"><a href="#type-action" class="anchor"></a><code><span><span class="keyword">type</span> action</span></code></div><div class="spec-doc"><p>Type representing an action that the user can perform: Buy, Sell, Deposit, or Withdraw</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ledger_entry"><a href="#type-ledger_entry" class="anchor"></a><code><span><span class="keyword">type</span> ledger_entry</span></code></div><div class="spec-doc"><p>Type representing a ledger_entry. Constains fields for date, action, and balance</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Type representing user. Contains fields for user info: username, balance, stocks, day, ledger</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_user"><a href="#val-init_user" class="anchor"></a><code><span><span class="keyword">val</span> init_user : <span>string <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init_user username balance</code> creates a new user account with the given <code>username</code> and initial <code>balance</code>. This user starts with an empty portfolio and day 0.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-deposit"><a href="#val-deposit" class="anchor"></a><code><span><span class="keyword">val</span> deposit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>deposit user n</code> increases the user's balance by <code>n</code> dollars</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-withdraw"><a href="#val-withdraw" class="anchor"></a><code><span><span class="keyword">val</span> withdraw : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>withdraw user n</code> decreases the user's balance by <code>n</code> dollars</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-balance"><a href="#val-balance" class="anchor"></a><code><span><span class="keyword">val</span> balance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>balance user</code> returns a float of the user's balance</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-portfolio"><a href="#val-portfolio" class="anchor"></a><code><span><span class="keyword">val</span> portfolio : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * int)</span> list</span></span></code></div><div class="spec-doc"><p><code>balance user</code> returns an (string, int) list of the user's portfolio.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ledger"><a href="#val-ledger" class="anchor"></a><code><span><span class="keyword">val</span> ledger : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-ledger_entry">ledger_entry</a> list</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p><code>ledger user</code> returns a list of ledger_entry</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sell"><a href="#val-sell" class="anchor"></a><code><span><span class="keyword">val</span> sell : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sell user index n</code> user <code>user</code> sells <code>n</code> shares of a stock of index <code>index</code>. It adds to the user's balance and updates their stock portfolio. Returns either the original <code>user</code> as the input if the stock could not be sold (trying to sell stock they don't have). Returns the edited user with sold stock if the stock could be sold.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-buy"><a href="#val-buy" class="anchor"></a><code><span><span class="keyword">val</span> buy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>buy user index n</code> user <code>user</code> buys <code>n</code> shares of a stock of index <code>index</code>. It deducts the cost from the user's balance and updates their stock portfolio. Returns either the original <code>user</code> as the input if the stock could not be bought. Returns the edited user with bought stock if the stock could be bought.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-next_day"><a href="#val-next_day" class="anchor"></a><code><span><span class="keyword">val</span> next_day : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>next_day user</code> iterates the user by 1 to the next day</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-display_username"><a href="#val-display_username" class="anchor"></a><code><span><span class="keyword">val</span> display_username : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>display_username user</code> returns the string of the username</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_ledger"><a href="#val-print_ledger" class="anchor"></a><code><span><span class="keyword">val</span> print_ledger : <span><span><span><a href="#type-ledger_entry">ledger_entry</a> list</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>print_ledger ledger</code> prints the given ledger</p></div></div></div></body></html>